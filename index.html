<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>خارطة طريق التسويق الرقمي</title>
    <style>
        /* CSS from the original code remains mostly the same for the core structure */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Tajawal', 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
            color: #333;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
        }

        .header {
            text-align: center;
            margin-bottom: 40px;
            background: rgba(255, 255, 255, 0.95);
            padding: 30px;
            border-radius: 20px;
            box-shadow: 0 15px 35px rgba(0,0,0,0.1);
            backdrop-filter: blur(10px);
        }

        .header h1 {
            font-size: 2.5em;
            color: #2c3e50;
            margin-bottom: 15px;
            background: linear-gradient(45deg, #3498db, #9b59b6);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .progress-overview {
            display: flex;
            justify-content: center;
            gap: 30px;
            margin: 20px 0;
            flex-wrap: wrap;
        }

        .progress-card {
            background: linear-gradient(135deg, #74b9ff, #0984e3);
            color: white;
            padding: 20px;
            border-radius: 15px;
            text-align: center;
            min-width: 150px;
            box-shadow: 0 8px 20px rgba(0,0,0,0.1);
        }

        .progress-card h3 {
            font-size: 1.2em;
            margin-bottom: 10px;
        }

        .progress-bar {
            background: rgba(255,255,255,0.3);
            height: 8px;
            border-radius: 4px;
            overflow: hidden;
            margin: 10px 0;
        }

        .progress-fill {
            background: #00b894;
            height: 100%;
            border-radius: 4px;
            transition: width 0.3s ease;
        }

        .levels-nav {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin: 30px 0;
            flex-wrap: wrap;
        }

        .level-btn {
            background: linear-gradient(135deg, #fd79a8, #e84393);
            color: white;
            border: none;
            padding: 15px 30px;
            border-radius: 25px;
            cursor: pointer;
            font-size: 1.1em;
            font-weight: bold;
            transition: all 0.3s ease;
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }

        .level-btn:hover, .level-btn.active {
            transform: translateY(-3px);
            box-shadow: 0 8px 25px rgba(0,0,0,0.3);
            background: linear-gradient(135deg, #00b894, #00a085);
        }

        .level-content {
            display: none;
            animation: fadeIn 0.5s ease-in;
        }

        .level-content.active {
            display: block;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .modules-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));
            gap: 25px;
            margin: 30px 0;
        }

        .module-card {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 15px 35px rgba(0,0,0,0.1);
            transition: all 0.3s ease;
            border: 2px solid transparent;
        }

        .module-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 25px 50px rgba(0,0,0,0.15);
            border-color: #74b9ff;
        }

        .module-header {
            display: flex;
            align-items: center;
            margin-bottom: 20px;
        }

        .module-icon {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5em;
            margin-left: 15px;
            color: white;
        }

        .module-title {
            font-size: 1.4em;
            color: #2c3e50;
            font-weight: bold;
        }

        .topics-list {
            list-style: none;
            margin: 20px 0;
        }

        .topic-item {
            display: flex;
            align-items: center;
            padding: 10px 0;
            border-bottom: 1px solid #ecf0f1;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .topic-item:hover {
            background: #f8f9fa;
            border-radius: 8px;
            padding-right: 10px;
        }

        .topic-checkbox {
            width: 20px;
            height: 20px;
            border: 2px solid #bdc3c7;
            border-radius: 50%;
            margin-left: 15px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.2s ease;
            flex-shrink: 0;
        }

        .topic-checkbox.completed {
            background: #00b894;
            border-color: #00b894;
            color: white;
        }

        .topic-checkbox.completed::after {
            content: '✓';
            font-size: 12px;
        }
        
        /* Shared style for resource sections */
        .resources-section {
            color: white;
            padding: 25px;
            border-radius: 15px;
            margin: 20px 0;
        }
        .resources-section h3 {
            margin-bottom: 15px;
            font-size: 1.3em;
        }
        .resources-list {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 15px;
        }
        .resource-item {
            background: rgba(255,255,255,0.2);
            padding: 15px;
            border-radius: 10px;
            backdrop-filter: blur(5px);
        }
        .resource-title {
            font-weight: bold;
            margin-bottom: 5px;
        }
        .resource-author {
            font-size: 0.9em;
            opacity: 0.8;
        }

        /* Specific styles for each resource type */
        .books-section {
            background: linear-gradient(135deg, #a29bfe, #6c5ce7);
        }
        .youtube-section {
            background: linear-gradient(135deg, #ff7675, #d63031);
        }
        
        .practical-section {
            background: linear-gradient(135deg, #fd79a8, #fdcb6e);
            color: white;
            padding: 25px;
            border-radius: 15px;
            margin: 20px 0;
        }

        .practical-section h3 {
            margin-bottom: 15px;
            font-size: 1.3em;
        }

        .practical-exercises {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
        }

        .exercise-item {
            background: rgba(255,255,255,0.2);
            padding: 15px;
            border-radius: 10px;
            text-align: center;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .exercise-item:hover {
            background: rgba(255,255,255,0.3);
            transform: scale(1.05);
        }
        
        .stats-dashboard {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 20px;
            padding: 30px;
            margin: 30px 0;
            box-shadow: 0 15px 35px rgba(0,0,0,0.1);
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
        }

        .stat-card {
            text-align: center;
            padding: 20px;
            background: linear-gradient(135deg, #74b9ff, #0984e3);
            color: white;
            border-radius: 15px;
        }

        .stat-number {
            font-size: 2em;
            font-weight: bold;
            margin-bottom: 10px;
        }

        .reset-btn {
            background: linear-gradient(135deg, #e17055, #d63031);
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 20px;
            cursor: pointer;
            margin: 20px auto;
            display: block;
            transition: all 0.3s ease;
        }

        .reset-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }

        /* --- NEW: Motivational Popup Styles --- */
        #motivation-popup {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background: linear-gradient(135deg, #00b894, #00a085);
            color: white;
            padding: 20px;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
            z-index: 1000;
            font-size: 1.1em;
            font-weight: bold;
            display: flex;
            align-items: center;
            gap: 15px;
            transform: translateX(120%);
            transition: transform 0.5s ease-in-out;
        }

        #motivation-popup.show {
            transform: translateX(0);
        }

        #motivation-popup .close-btn {
            background: none;
            border: none;
            color: white;
            font-size: 24px;
            cursor: pointer;
            opacity: 0.7;
            transition: opacity 0.2s;
        }
        #motivation-popup .close-btn:hover {
            opacity: 1;
        }
        /* --- End of Popup Styles --- */

        @media (max-width: 768px) {
            .modules-grid {
                grid-template-columns: 1fr;
            }
            .levels-nav {
                flex-direction: column;
                align-items: center;
            }
            .progress-overview {
                flex-direction: column;
                align-items: center;
            }
            #motivation-popup {
                right: 10px;
                left: 10px;
                bottom: 10px;
                font-size: 1em;
                justify-content: center;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>📊 خارطة طريق التسويق الرقمي</h1>
            <p>دليلك المتكامل للانطلاق من الصفر إلى الاحتراف في عالم التسويق الرقمي</p>
            
            <div class="progress-overview">
                <div class="progress-card">
                    <h3>مبتدئ</h3>
                    <div class="progress-bar">
                        <div class="progress-fill" id="beginner-progress" style="width: 0%"></div>
                    </div>
                    <span id="beginner-percentage">0%</span>
                </div>
                <div class="progress-card">
                    <h3>متوسط</h3>
                    <div class="progress-bar">
                        <div class="progress-fill" id="intermediate-progress" style="width: 0%"></div>
                    </div>
                    <span id="intermediate-percentage">0%</span>
                </div>
                <div class="progress-card">
                    <h3>محترف</h3>
                    <div class="progress-bar">
                        <div class="progress-fill" id="advanced-progress" style="width: 0%"></div>
                    </div>
                    <span id="advanced-percentage">0%</span>
                </div>
            </div>
        </div>

        <div class="levels-nav">
            <button class="level-btn active" onclick="showLevel('beginner')">🌱 الأساسيات</button>
            <button class="level-btn" onclick="showLevel('intermediate')">🚀 التخصص</button>
            <button class="level-btn" onclick="showLevel('advanced')">👑 الاستراتيجية</button>
        </div>

        <!-- المستوى المبتدئ -->
        <div id="beginner" class="level-content active">
            <div class="modules-grid">
                <!-- Module 1 -->
                <div class="module-card">
                    <div class="module-header">
                        <div class="module-icon" style="background: linear-gradient(135deg, #74b9ff, #0984e3);">🌐</div>
                        <h2 class="module-title">مقدمة في التسويق الرقمي</h2>
                    </div>
                    <ul class="topics-list">
                        <li class="topic-item" onclick="toggleTopic(this)"><div class="topic-checkbox"></div><span>ما هو التسويق الرقمي وأهميته</span></li>
                        <li class="topic-item" onclick="toggleTopic(this)"><div class="topic-checkbox"></div><span>الفرق بين التسويق التقليدي والرقمي</span></li>
                        <li class="topic-item" onclick="toggleTopic(this)"><div class="topic-checkbox"></div><span>فهم قمع المبيعات (Marketing Funnel)</span></li>
                        <li class="topic-item" onclick="toggleTopic(this)"><div class="topic-checkbox"></div><span>أهم المصطلحات (CPC, CPA, ROI, CTR)</span></li>
                        <li class="topic-item" onclick="toggleTopic(this)"><div class="topic-checkbox"></div><span>تحديد شخصية العميل (Buyer Persona)</span></li>
                    </ul>
                </div>
                <!-- Module 2 -->
                <div class="module-card">
                    <div class="module-header">
                        <div class="module-icon" style="background: linear-gradient(135deg, #fd79a8, #e84393);">📝</div>
                        <h2 class="module-title">أساسيات التسويق بالمحتوى</h2>
                    </div>
                    <ul class="topics-list">
                        <li class="topic-item" onclick="toggleTopic(this)"><div class="topic-checkbox"></div><span>ما هو المحتوى وأنواعه (مقالات, فيديو, انفوجرافيك)</span></li>
                        <li class="topic-item" onclick="toggleTopic(this)"><div class="topic-checkbox"></div><span>أهمية سرد القصص (Storytelling)</span></li>
                        <li class="topic-item" onclick="toggleTopic(this)"><div class="topic-checkbox"></div><span>كيفية إيجاد أفكار للمحتوى</span></li>
                        <li class="topic-item" onclick="toggleTopic(this)"><div class="topic-checkbox"></div><span>مبادئ كتابة محتوى جذاب</span></li>
                        <li class="topic-item" onclick="toggleTopic(this)"><div class="topic-checkbox"></div><span>أساسيات تقويم المحتوى (Content Calendar)</span></li>
                    </ul>
                </div>
                <!-- Module 3 -->
                <div class="module-card">
                    <div class="module-header">
                        <div class="module-icon" style="background: linear-gradient(135deg, #00b894, #00a085);">🔍</div>
                        <h2 class="module-title">مبادئ تحسين محركات البحث (SEO)</h2>
                    </div>
                    <ul class="topics-list">
                        <li class="topic-item" onclick="toggleTopic(this)"><div class="topic-checkbox"></div><span>كيف تعمل محركات البحث</span></li>
                        <li class="topic-item" onclick="toggleTopic(this)"><div class="topic-checkbox"></div><span>الفرق بين On-Page و Off-Page SEO</span></li>
                        <li class="topic-item" onclick="toggleTopic(this)"><div class="topic-checkbox"></div><span>أساسيات البحث عن الكلمات المفتاحية</span></li>
                        <li class="topic-item" onclick="toggleTopic(this)"><div class="topic-checkbox"></div><span>أهمية العناوين والوصف (Titles & Meta Descriptions)</span></li>
                        <li class="topic-item" onclick="toggleTopic(this)"><div class="topic-checkbox"></div><span>فهم أهمية الروابط الداخلية والخارجية</span></li>
                    </ul>
                </div>
                <!-- Module 4 -->
                <div class="module-card">
                    <div class="module-header">
                        <div class="module-icon" style="background: linear-gradient(135deg, #a29bfe, #6c5ce7);">📱</div>
                        <h2 class="module-title">التسويق عبر السوشيال ميديا</h2>
                    </div>
                    <ul class="topics-list">
                        <li class="topic-item" onclick="toggleTopic(this)"><div class="topic-checkbox"></div><span>اختيار المنصات المناسبة لعملك</span></li>
                        <li class="topic-item" onclick="toggleTopic(this)"><div class="topic-checkbox"></div><span>إنشاء وتحسين صفحاتك الاجتماعية</span></li>
                        <li class="topic-item" onclick="toggleTopic(this)"><div class="topic-checkbox"></div><span>أساسيات وضع استراتيجية محتوى للسوشيال ميديا</span></li>
                        <li class="topic-item" onclick="toggleTopic(this)"><div class="topic-checkbox"></div><span>فهم مقاييس التفاعل (Engagement)</span></li>
                        <li class="topic-item" onclick="toggleTopic(this)"><div class="topic-checkbox"></div><span>أفضل أوقات النشر</span></li>
                    </ul>
                </div>
            </div>

            <!-- Resources -->
            <div class="books-section resources-section">
                <h3>📖 كتب مقترحة للمستوى المبتدئ</h3>
                <div class="resources-list">
                    <div class="resource-item"><div class="resource-title">Contagious: Why Things Catch On</div><div class="resource-author">Jonah Berger</div></div>
                    <div class="resource-item"><div class="resource-title">This Is Marketing</div><div class="resource-author">Seth Godin</div></div>
                    <div class="resource-item"><div class="resource-title">Jab, Jab, Jab, Right Hook</div><div class="resource-author">Gary Vaynerchuk</div></div>
                </div>
            </div>
            <div class="youtube-section resources-section">
                <h3>📺 قنوات يوتيوب مقترحة</h3>
                <div class="resources-list">
                    <div class="resource-item"><div class="resource-title">Neil Patel</div><div class="resource-author">لتعلم SEO والتسويق الرقمي بشكل عام</div></div>
                    <div class="resource-item"><div class="resource-title">HubSpot Marketing</div><div class="resource-author">دروس ونصائح في كل فروع التسويق</div></div>
                    <div class="resource-item"><div class="resource-title">إيهاب مسلم</div><div class="resource-author">محتوى عربي عن التسويق بالمحتوى والسوشيال ميديا</div></div>
                </div>
            </div>

            <div class="practical-section">
                <h3>🎯 تطبيقات عملية - المستوى المبتدئ</h3>
                <div class="practical-exercises">
                    <div class="exercise-item">إنشاء شخصية عميل لمنتج خيالي</div>
                    <div class="exercise-item">بحث عن 10 كلمات مفتاحية لموقعك</div>
                    <div class="exercise-item">كتابة 3 بوستات سوشيال ميديا</div>
                    <div class="exercise-item">تحليل 3 منافسين على السوشيال ميديا</div>
                    <div class="exercise-item">رسم قمع تسويقي بسيط</div>
                </div>
            </div>
        </div>

        <!-- المستوى المتوسط -->
        <div id="intermediate" class="level-content">
            <div class="modules-grid">
                <!-- Module 1 -->
                <div class="module-card">
                    <div class="module-header">
                        <div class="module-icon" style="background: linear-gradient(135deg, #e17055, #d63031);">📈</div>
                        <h2 class="module-title">إعلانات الدفع مقابل النقر (PPC)</h2>
                    </div>
                    <ul class="topics-list">
                        <li class="topic-item" onclick="toggleTopic(this)"><div class="topic-checkbox"></div><span>مقدمة لإعلانات جوجل (Google Ads)</span></li>
                        <li class="topic-item" onclick="toggleTopic(this)"><div class="topic-checkbox"></div><span>مقدمة لإعلانات فيسبوك وانستجرام</span></li>
                        <li class="topic-item" onclick="toggleTopic(this)"><div class="topic-checkbox"></div><span>كيفية كتابة نص إعلاني فعال (Ad Copy)</span></li>
                        <li class="topic-item" onclick="toggleTopic(this)"><div class="topic-checkbox"></div><span>أساسيات الاستهداف وتحديد الميزانية</span></li>
                        <li class="topic-item" onclick="toggleTopic(this)"><div class="topic-checkbox"></div><span>فهم اختبار A/B للإعلانات</span></li>
                    </ul>
                </div>
                <!-- Module 2 -->
                <div class="module-card">
                    <div class="module-header">
                        <div class="module-icon" style="background: linear-gradient(135deg, #fdcb6e, #e17055);">✉️</div>
                        <h2 class="module-title">التسويق عبر البريد الإلكتروني</h2>
                    </div>
                    <ul class="topics-list">
                        <li class="topic-item" onclick="toggleTopic(this)"><div class="topic-checkbox"></div><span>أهمية بناء قائمة بريدية</span></li>
                        <li class="topic-item" onclick="toggleTopic(this)"><div class="topic-checkbox"></div><span>أشهر المنصات (Mailchimp, ConvertKit)</span></li>
                        <li class="topic-item" onclick="toggleTopic(this)"><div class="topic-checkbox"></div><span>تقسيم القوائم (Segmentation)</span></li>
                        <li class="topic-item" onclick="toggleTopic(this)"><div class="topic-checkbox"></div><span>أساسيات الأتمتة (Welcome Series)</span></li>
                        <li class="topic-item" onclick="toggleTopic(this)"><div class="topic-checkbox"></div><span>تحليل أداء الحملات (Open Rate, CTR)</span></li>
                    </ul>
                </div>
                <!-- Module 3 -->
                <div class="module-card">
                    <div class="module-header">
                        <div class="module-icon" style="background: linear-gradient(135deg, #00b894, #00a085);">🛠️</div>
                        <h2 class="module-title">تحسين محركات البحث المتقدم (SEO)</h2>
                    </div>
                    <ul class="topics-list">
                        <li class="topic-item" onclick="toggleTopic(this)"><div class="topic-checkbox"></div><span>الـ SEO التقني (Technical SEO)</span></li>
                        <li class="topic-item" onclick="toggleTopic(this)"><div class="topic-checkbox"></div><span>استراتيجيات بناء الروابط (Link Building)</span></li>
                        <li class="topic-item" onclick="toggleTopic(this)"><div class="topic-checkbox"></div><span>الـ SEO المحلي (Local SEO)</span></li>
                        <li class="topic-item" onclick="toggleTopic(this)"><div class="topic-checkbox"></div><span>استخدام Google Search Console</span></li>
                    </ul>
                </div>
                <!-- Module 4 -->
                <div class="module-card">
                    <div class="module-header">
                        <div class="module-icon" style="background: linear-gradient(135deg, #a29bfe, #6c5ce7);">📊</div>
                        <h2 class="module-title">تحليل البيانات والتسويق</h2>
                    </div>
                    <ul class="topics-list">
                        <li class="topic-item" onclick="toggleTopic(this)"><div class="topic-checkbox"></div><span>مقدمة لـ Google Analytics</span></li>
                        <li class="topic-item" onclick="toggleTopic(this)"><div class="topic-checkbox"></div><span>أهم المقاييس (Sessions, Bounce Rate, Conversion)</span></li>
                        <li class="topic-item" onclick="toggleTopic(this)"><div class="topic-checkbox"></div><span>إنشاء تقارير أساسية</span></li>
                        <li class="topic-item" onclick="toggleTopic(this)"><div class="topic-checkbox"></div><span>ربط البيانات بالأهداف التسويقية</span></li>
                    </ul>
                </div>
            </div>
             <!-- Resources -->
             <div class="books-section resources-section">
                <h3>📖 كتب مقترحة للمستوى المتوسط</h3>
                <div class="resources-list">
                    <div class="resource-item"><div class="resource-title">Building a StoryBrand</div><div class="resource-author">Donald Miller</div></div>
                    <div class="resource-item"><div class="resource-title">The Ultimate Guide to Digital Marketing</div><div class="resource-author">DigitalMarketer</div></div>
                    <div class="resource-item"><div class="resource-title">Everybody Writes</div><div class="resource-author">Ann Handley</div></div>
                </div>
            </div>
            <div class="youtube-section resources-section">
                <h3>📺 قنوات يوتيوب مقترحة</h3>
                <div class="resources-list">
                    <div class="resource-item"><div class="resource-title">Ahrefs</div><div class="resource-author">محتوى عميق ومتقدم في SEO</div></div>
                    <div class="resource-item"><div class="resource-title">DigitalMarketer</div><div class="resource-author">خبراء في كل مجالات التسويق الرقمي</div></div>
                    <div class="resource-item"><div class="resource-title">GSC - Gheras</div><div class="resource-author">محتوى عربي ممتاز في SEO و التسويق</div></div>
                </div>
            </div>

            <div class="practical-section">
                <h3>🎯 تطبيقات عملية - المستوى المتوسط</h3>
                <div class="practical-exercises">
                    <div class="exercise-item">إطلاق حملة إعلانية بسيطة على فيسبوك</div>
                    <div class="exercise-item">إنشاء سلسلة بريد إلكتروني ترحيبية</div>
                    <div class="exercise-item">تحسين SEO On-page لمقالة</div>
                    <div class="exercise-item">تحليل أداء موقعك بـ Google Analytics</div>
                    <div class="exercise-item">كتابة 3 نصوص إعلانية مختلفة</div>
                </div>
            </div>
        </div>

        <!-- المستوى المحترف -->
        <div id="advanced" class="level-content">
            <div class="modules-grid">
                 <!-- Module 1 -->
                <div class="module-card">
                    <div class="module-header">
                        <div class="module-icon" style="background: linear-gradient(135deg, #fd79a8, #e84393);">🏆</div>
                        <h2 class="module-title">استراتيجية التسويق المتكاملة</h2>
                    </div>
                    <ul class="topics-list">
                        <li class="topic-item" onclick="toggleTopic(this)"><div class="topic-checkbox"></div><span>بناء استراتيجية تسويق رقمي شاملة</span></li>
                        <li class="topic-item" onclick="toggleTopic(this)"><div class="topic-checkbox"></div><span>تكامل القنوات التسويقية (Omnichannel)</span></li>
                        <li class="topic-item" onclick="toggleTopic(this)"><div class="topic-checkbox"></div><span>تحديد مؤشرات الأداء الرئيسية (KPIs)</span></li>
                        <li class="topic-item" onclick="toggleTopic(this)"><div class="topic-checkbox"></div><span>إدارة الميزانيات وتوزيعها</span></li>
                    </ul>
                </div>
                <!-- Module 2 -->
                <div class="module-card">
                    <div class="module-header">
                        <div class="module-icon" style="background: linear-gradient(135deg, #00b894, #00a085);">💡</div>
                        <h2 class="module-title">تحسين معدل التحويل (CRO)</h2>
                    </div>
                    <ul class="topics-list">
                        <li class="topic-item" onclick="toggleTopic(this)"><div class="topic-checkbox"></div><span>مبادئ الـ CRO وعلم النفس وراءه</span></li>
                        <li class="topic-item" onclick="toggleTopic(this)"><div class="topic-checkbox"></div><span>تحليل سلوك المستخدم (Heatmaps, Recordings)</span></li>
                        <li class="topic-item" onclick="toggleTopic(this)"><div class="topic-checkbox"></div><span>اختبار A/B واختبارات متعددة المتغيرات</span></li>
                        <li class="topic-item" onclick="toggleTopic(this)"><div class="topic-checkbox"></div><span>تحسين تجربة المستخدم (UX) للتحويل</span></li>
                    </ul>
                </div>
                <!-- Module 3 -->
                <div class="module-card">
                    <div class="module-header">
                        <div class="module-icon" style="background: linear-gradient(135deg, #a29bfe, #6c5ce7);">🤖</div>
                        <h2 class="module-title">التسويق الآلي (Automation)</h2>
                    </div>
                    <ul class="topics-list">
                        <li class="topic-item" onclick="toggleTopic(this)"><div class="topic-checkbox"></div><span>مفهوم وأدوات التسويق الآلي</span></li>
                        <li class="topic-item" onclick="toggleTopic(this)"><div class="topic-checkbox"></div><span>بناء مسارات عمل (Workflows)</span></li>
                        <li class="topic-item" onclick="toggleTopic(this)"><div class="topic-checkbox"></div><span>رعاية العملاء المحتملين (Lead Nurturing)</span></li>
                        <li class="topic-item" onclick="toggleTopic(this)"><div class="topic-checkbox"></div><span>تقييم العملاء المحتملين (Lead Scoring)</span></li>
                    </ul>
                </div>
                <!-- Module 4 -->
                <div class="module-card">
                    <div class="module-header">
                        <div class="module-icon" style="background: linear-gradient(135deg, #e17055, #d63031);">💼</div>
                        <h2 class="module-title">النمو والقيادة</h2>
                    </div>
                    <ul class="topics-list">
                        <li class="topic-item" onclick="toggleTopic(this)"><div class="topic-checkbox"></div><span>أساسيات قرصنة النمو (Growth Hacking)</span></li>
                        <li class="topic-item" onclick="toggleTopic(this)"><div class="topic-checkbox"></div><span>بناء وإدارة فريق تسويق</span></li>
                        <li class="topic-item" onclick="toggleTopic(this)"><div class="topic-checkbox"></div><span>مواكبة أحدث الاتجاهات والتقنيات</span></li>
                        <li class="topic-item" onclick="toggleTopic(this)"><div class="topic-checkbox"></div><span>بناء علامتك التجارية الشخصية كمسوق</span></li>
                    </ul>
                </div>
            </div>
             <!-- Resources -->
             <div class="books-section resources-section">
                <h3>📖 كتب مقترحة للمستوى المحترف</h3>
                <div class="resources-list">
                    <div class="resource-item"><div class="resource-title">Hacking Growth</div><div class="resource-author">Sean Ellis & Morgan Brown</div></div>
                    <div class="resource-item"><div class="resource-title">Influence: The Psychology of Persuasion</div><div class="resource-author">Robert Cialdini</div></div>
                    <div class="resource-item"><div class="resource-title">The 22 Immutable Laws of Marketing</div><div class="resource-author">Al Ries & Jack Trout</div></div>
                </div>
            </div>
            <div class="youtube-section resources-section">
                <h3>📺 قنوات يوتيوب مقترحة</h3>
                <div class="resources-list">
                    <div class="resource-item"><div class="resource-title">CXL</div><div class="resource-author">محتوى احترافي في CRO وعلم نفس التسويق</div></div>
                    <div class="resource-item"><div class="resource-title">Backlinko (Brian Dean)</div><div class="resource-author">استراتيجيات SEO متقدمة وعملية</div></div>
                    <div class="resource-item"><div class="resource-title">GaryVee</div><div class="resource-author">لأفكار واستراتيجيات السوشيال ميديا والبراندينج</div></div>
                </div>
            </div>
            <div class="practical-section">
                <h3>🎯 تطبيقات عملية - المستوى المحترف</h3>
                <div class="practical-exercises">
                    <div class="exercise-item">وضع استراتيجية تسويق كاملة لـ 3 شهور</div>
                    <div class="exercise-item">تصميم اختبار A/B لصفحة هبوط</div>
                    <div class="exercise-item">بناء Workflow أتمتة لرعاية العملاء</div>
                    <div class="exercise-item">إعداد تقرير أداء شهري احترافي</div>
                    <div class="exercise-item">تحليل حملة ناجحة وسبب نجاحها</div>
                </div>
            </div>
        </div>

        <div class="stats-dashboard">
            <h2 style="text-align: center; margin-bottom: 30px; color: #2c3e50;">📊 لوحة المتابعة والإحصائيات</h2>
            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-number" id="total-topics">0</div>
                    <div>إجمالي المواضيع المكتملة</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number" id="study-days">0</div>
                    <div>أيام الدراسة</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number" id="current-level">مبتدئ</div>
                    <div>المستوى الحالي</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number" id="completion-rate">0%</div>
                    <div>معدل الإنجاز الإجمالي</div>
                </div>
            </div>
            <button class="reset-btn" onclick="resetProgress()">🔄 إعادة تعيين التقدم</button>
        </div>
    </div>

    <!-- NEW: Motivational Popup HTML -->
    <div id="motivation-popup">
        <span id="motivation-text">عاش يا وحش! كمل ومتوقفش 🔥</span>
        <button class="close-btn" onclick="hideMotivationPopup()">×</button>
    </div>

    <script>
        // UPDATED: Progress object with new topic counts
        let progress = {
            beginner: { completed: 0, total: 20 },
            intermediate: { completed: 0, total: 18 },
            advanced: { completed: 0, total: 16 },
            startDate: null
        };

        // --- Core Progress Tracking Logic (Mostly Unchanged) ---

        function loadProgress() {
            const saved = localStorage.getItem('digitalMarketingProgress');
            if (saved) {
                progress = JSON.parse(saved);
                // Restore completed checkboxes state
                document.querySelectorAll('.topic-item').forEach((item, index) => {
                    const levelId = item.closest('.level-content').id;
                    const topicId = `${levelId}-${index}`;
                    if (progress[topicId] === true) {
                        item.querySelector('.topic-checkbox').classList.add('completed');
                    }
                });
            }
             updateAllProgress();
             updateStats();
        }

        function saveProgress() {
            localStorage.setItem('digitalMarketingProgress', JSON.stringify(progress));
        }

        function showLevel(level) {
            document.querySelectorAll('.level-content').forEach(content => content.classList.remove('active'));
            document.querySelectorAll('.level-btn').forEach(btn => btn.classList.remove('active'));
            document.getElementById(level).classList.add('active');
            event.currentTarget.classList.add('active');
        }

        function toggleTopic(element) {
            const checkbox = element.querySelector('.topic-checkbox');
            const isCompleted = checkbox.classList.contains('completed');
            const levelId = element.closest('.level-content').id;
            
            if (!progress.startDate) {
                progress.startDate = new Date().toISOString();
            }
            
            // Generate a unique ID for the topic to save its state
            const topicIndex = Array.from(element.parentElement.children).indexOf(element);
            const topicId = `${levelId}-${topicIndex}`;

            if (isCompleted) {
                checkbox.classList.remove('completed');
                progress[levelId].completed--;
                progress[topicId] = false;
            } else {
                checkbox.classList.add('completed');
                progress[levelId].completed++;
                progress[topicId] = true;
                element.style.animation = 'none';
                void element.offsetWidth; // Trigger reflow
                element.style.animation = 'fadeIn 0.5s ease-in';
            }
            progress[levelId].completed = Math.max(0, progress[levelId].completed);

            saveProgress();
            updateAllProgress();
            updateStats();
        }
        
        function updateAllProgress() {
            ['beginner', 'intermediate', 'advanced'].forEach(level => {
                const percentage = Math.round((progress[level].completed / progress[level].total) * 100);
                const progressBar = document.getElementById(`${level}-progress`);
                const percentageSpan = document.getElementById(`${level}-percentage`);
                
                if (progressBar && percentageSpan) {
                    progressBar.style.width = percentage + '%';
                    percentageSpan.textContent = percentage + '%';
                }
            });
        }

        function updateStats() {
            const totalCompleted = progress.beginner.completed + progress.intermediate.completed + progress.advanced.completed;
            const totalTopics = progress.beginner.total + progress.intermediate.total + progress.advanced.total;
            
            document.getElementById('total-topics').textContent = totalCompleted;
            document.getElementById('completion-rate').textContent = totalTopics > 0 ? Math.round((totalCompleted / totalTopics) * 100) + '%' : '0%';
            
            if (progress.startDate) {
                const startDate = new Date(progress.startDate);
                const today = new Date();
                const diffTime = Math.abs(today - startDate);
                const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24));
                document.getElementById('study-days').textContent = diffDays;
            } else {
                 document.getElementById('study-days').textContent = 0;
            }
            
            let currentLevel = 'مبتدئ';
            if (progress.advanced.completed > 0 || progress.intermediate.completed === progress.intermediate.total) {
                currentLevel = 'محترف';
            } else if (progress.intermediate.completed > 0 || progress.beginner.completed === progress.beginner.total) {
                currentLevel = 'متوسط';
            }
            document.getElementById('current-level').textContent = currentLevel;
        }

        function resetProgress() {
            if (confirm('هل أنت متأكد من إعادة تعيين جميع البيانات؟ سيتم فقدان كل التقدم المحرز.')) {
                localStorage.removeItem('digitalMarketingProgress');
                // Reload the page to clear state completely
                window.location.reload();
            }
        }
        
        // --- NEW: Motivational Popup Logic ---

        const motivationPopup = document.getElementById('motivation-popup');
        const motivationText = document.getElementById('motivation-text');
        
        const egyptianMessages = [
            "عاش يا وحش، كمل! 🔥",
            "شغل عالي.. إنت قدها والله!",
            "خطوة ممتازة.. اللي جاي أحسن.",
            "ما يوقفكش حاجة.. مستقبلك مستنيك.",
            "إيه الجمدان ده! فخور بيك.",
            "كل معلومة بتتعلمها بتبني في مستقبلك. 💪",
            "استمر يا بطل، الطريق للمية مليون بيبدأ بخطوة!",
            "تركيزك ده هيوديك في حتة تانية خالص.",
            "مش أي حد بيكمل.. إنت بطل. 🚀"
        ];

        function showMotivationPopup() {
            const randomMessage = egyptianMessages[Math.floor(Math.random() * egyptianMessages.length)];
            motivationText.textContent = randomMessage;
            motivationPopup.classList.add('show');

            // Hide after 8 seconds
            setTimeout(() => {
                hideMotivationPopup();
            }, 8000);
        }

        function hideMotivationPopup() {
             motivationPopup.classList.remove('show');
        }

        // Show popup every 3 minutes (180000 milliseconds)
        setInterval(showMotivationPopup, 180000);

        // --- Event Listeners and Initial Load ---
        document.addEventListener('DOMContentLoaded', loadProgress);

    </script>
</body>
</html>
